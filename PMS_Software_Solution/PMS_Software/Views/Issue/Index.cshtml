@using PMS_Software.ViewModels
@model IssueViewModel
<div class="mx-auto">
    <div class="issue-item-modal  bg-white p-3" style="z-index:1000;top: 100px; height: 600px; ">
        <div class="d-flex justify-content-between">
            <p><small>board1/issu2/<i class="fa-solid fa-link"></i></small></p>
            <div class="d-flex">
                <button class="btn btn-light mx-1" title=""><i class="fa-solid fa-eye"></i></button>
                <button class="btn btn-light mx-1" title=""><i class="fa-solid fa-thumbs-up"></i></button>
                <button class="btn btn-light mx-1" title=""><i class="fa-solid fa-share-nodes"></i></button>
                <div class="dropdown no-arrow px-2">
                    <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fa-solid fa-ellipsis-vertical text-dark mt-2 text-medium" aria-hidden="true"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink" style="">
                        <a class="dropdown-item" href="#">Board Setting</a>
                        <a class="dropdown-item" href="#">Create Board</a>
                        <a class="dropdown-item" href="#">Print Card</a>
                    </div>
                </div>

            </div>
        </div>
        <div class="row mt-2">
            <div class="col-8">
                <div style="overflow-y: scroll; height:400px;">
                    <h3 class="text-justify">@Model.Description</h3>
                    <div class="d-flex">

                        <div>
                            <label class="btn btn-light" for="issue-attachment"><i class="fa-solid fa-paperclip"></i>Attachment</label>
                            <input type="file" id="issue-attachment" class="">
                        </div>
                        <div class="dropdown show">
                            <a class="btn btn-light mx-1" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fa-solid fa-link"></i>Linke issue
                            </a>

                            <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                <a class="dropdown-item" href="#"><i class="fa-regular fa-copy"></i>Copy issue Link</a>
                                <a class="dropdown-item" href="#"><i class="fa-solid fa-globe"></i>Add Web Link</a>

                            </div>
                        </div>
                    </div>
                    <div>
                        <h5>Description</h5>
                        <p class="text-justify d-none" id="issue-item-description" style="">This is description of  selected issue. Here issue full description should be added. For clear explanation it is cery important to add description. Sometime issue title becomes not clear enough this time issue description become time saver for not starting to investigate the issue from scratch</p>
                        <div id="issue-item-description-edite">
                            <div class="form-group">
                                <textarea name="" id="" cols="72" rows="4" style="outline: none;"></textarea>
                            </div>
                            <a href="#" id="issue-item-description-save-btn" class="btn btn-primary btn-user rounded-0 py-1 px-3">
                                Save
                            </a>
                            <a href="#" class="btn btn-light btn-user rounded-0 py-1 px-3">
                                Cancel
                            </a>
                        </div>
                    </div>
                    <script>
                        const description = document.getElementById('issue-item-description');
                        const saveBtn = document.getElementById('issue-item-description-save-btn');
                        const editeContainer = document.getElementById('issue-item-description-edite');
                        description.addEventListener('click', () => {
                            description.classList.add('d-none');
                            editeContainer.classList.remove('d-none');
                        });
                        saveBtn.addEventListener('click', () => {
                            description.classList.remove('d-none');
                            editeContainer.classList.add('d-none');
                        })

                    </script>
                    <div class="d-flex justify-content-between ">
                        <h5>Attachment <sup>3</sup></h5>
                        <div>
                            <div class="d-flex">

                                <div>
                                    <label for="issue-file-input" style="cursor: pointer;"><i class="fa-solid fa-plus"></i></label>
                                    <input id="issue-file-input" type="file" class="d-none">
                                </div>
                                <div class="dropdown no-arrow mx-4">
                                    <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400" aria-hidden="true"></i>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
                                        <a class="dropdown-item" href="#">Download All</a>
                                        <a class="dropdown-item" href="#">Delete All</a>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <style>
                        .file-card-body:hover {
                            transition: all 0.3s ease 0s;
                            background-color: black !important;
                            opacity: .4;
                        }
                    </style>
                    <div class="attachments d-flex flex-wrap">
                        <div class="card m-2" style="width:160px;">
                            <div class="bg-light position-relative file-card-body" style="width: 100%; height: 70px;">
                                <div class="position-absolute" style="top: 5px; right: 3px;">
                                    <a class="bg-light" style="color:black; padding:3px 10px;" href="#"><i class="fa-solid fa-download"></i></a>
                                    <a class="bg-light" style="color:black; padding:3px 10px;" href="#"><i class="fa-solid fa-trash"></i></a>
                                </div>
                            </div>
                            <div class="px-2" style="background-color: aliceblue; height: 27px;">
                                <span>issue1.docs</span>
                            </div>
                        </div>
                        <div class="card m-2" style="width:160px;">
                            <div class="bg-light position-relative file-card-body" style="width: 100%; height: 70px;">
                                <div class="position-absolute" style="top: 5px; right: 3px;">
                                    <a class="bg-light" style="color:black; padding:3px 10px;" href="#"><i class="fa-solid fa-download"></i></a>
                                    <a class="bg-light" style="color:black; padding:3px 10px;" href="#"><i class="fa-solid fa-trash"></i></a>
                                </div>
                            </div>
                            <div class="px-2" style="background-color: aliceblue; height: 27px;">
                                <span>issue1.docs</span>
                            </div>
                        </div>
                        <div class="card m-2" style="width:160px;">
                            <div class="bg-light position-relative file-card-body" style="width: 100%; height: 70px;">
                                <div class="position-absolute" style="top: 5px; right: 3px;">
                                    <a class="bg-light" style="color:black; padding:3px 10px;" href="#"><i class="fa-solid fa-download"></i></a>
                                    <a class="bg-light" style="color:black; padding:3px 10px;" href="#"><i class="fa-solid fa-trash"></i></a>
                                </div>
                            </div>
                            <div class="px-2" style="background-color: aliceblue; height: 27px;">
                                <span>issue1.docs</span>
                            </div>
                        </div>
                    </div>
                    <div>
                        @await Html.PartialAsync("Comment",Model.CommentViewModel)
                    </div>
                </div>
            </div>
            <div class="col-4">
                <button class="btn btn-light w-100" type="button" data-toggle="collapse" data-target="#collapseButtonExample" aria-expanded="false" aria-controls="myCollapseExample">
                    <div class="d-flex justify-content-between">
                        <span>Details</span>
                        <span><i class="fa-solid fa-chevron-down"></i></span>
                    </div>
                </button>
                <div class="collapse" id="collapseButtonExample">
                    <div class="card card-body">
                        <label for="">Assinee/Assign To</label>
                        <select class="form-select form-select-sm" aria-label="form-select-sm example" name="" id="">
                            <option value="shuvo Islam">Shuvo Islam</option>
                            <option value="shuvo Islam">Shawon Islam</option>
                            <option value="shuvo Islam">Naem Khan</option>
                            <option value="shuvo Islam">Israfil Bebari</option>
                            <option value="shuvo Islam">Faysal Ahmed</option>
                        </select>
                        <label for="">Label</label>
                        <select class="form-select form-select-sm" aria-label="form-select-sm example" name="" id="">
                            <option value="shuvo Islam">Label 1</option>
                            <option value="shuvo Islam">Label 2</option>
                            <option value="shuvo Islam">Label3</option>

                        </select>
                        <label for="">Story Point</label>
                        <select class="form-select form-select-sm" aria-label="form-select-sm example" name="" id="">
                            <option value="shuvo Islam">1</option>
                            <option value="shuvo Islam">2</option>
                            <option value="shuvo Islam">3</option>
                            <option value="shuvo Islam">4</option>
                            <option value="shuvo Islam">5</option>
                            <option value="shuvo Islam">6</option>

                        </select>
                        <label for="">Priority</label>
                        <select class="form-select form-select-sm" aria-label="form-select-sm example" name="" id="">
                            <option value="shuvo Islam">High</option>
                            <option value="shuvo Islam">Low</option>
                            <option value="shuvo Islam">Medium</option>
                        </select>
                        <label for="">Sprint</label>
                        <select class="form-select form-select-sm" aria-label="form-select-sm example" name="" id="">
                            <option value="shuvo Islam">Sprint-1</option>
                            <option selected="" value="shuvo Islam">Sprint-2(Active)</option>
                            <option value="shuvo Islam">Sprint-2</option>
                            <option value="shuvo Islam">Sprint-1</option>
                            <option value="shuvo Islam">Sprint-1</option>
                        </select>
                        <input type="submit" value="Update" class="btn btn-primary btn-user rounded-0 py-1 px-3 mt-2 w-50 mx-auto">
                    </div>
                </div>
                <button class="btn btn-light w-100 mt-2" type="button" data-toggle="collapse" data-target="#assignUserForm" aria-expanded="false" aria-controls="myCollapseExample">
                    <div class="d-flex justify-content-between">
                        <span>Assign user</span>
                        <span><i class="fa-solid fa-chevron-down"></i></span>
                    </div>
                </button>
                <div class="collapse" id="assignUserForm">
                    <div class="card card-body">
                        <label for="">Assinee/Assign To</label>
                        <select class="form-select form-select-sm" aria-label="form-select-sm example" name="" id="">
                            <option value="shuvo Islam">Shuvo Islam</option>
                            <option value="shuvo Islam">Shawon Islam</option>
                            <option value="shuvo Islam">Naem Khan</option>
                            <option value="shuvo Islam">Israfil Bebari</option>
                            <option value="shuvo Islam">Faysal Ahmed</option>
                        </select>
                        <label for="">Label</label>
                        <select class="form-select form-select-sm" aria-label="form-select-sm example" name="" id="">
                            <option value="shuvo Islam">Label 1</option>
                            <option value="shuvo Islam">Label 2</option>
                            <option value="shuvo Islam">Label3</option>

                        </select>
                        <label for="">Story Point</label>
                        <select class="form-select form-select-sm" aria-label="form-select-sm example" name="" id="">
                            <option value="shuvo Islam">1</option>
                            <option value="shuvo Islam">2</option>
                            <option value="shuvo Islam">3</option>
                            <option value="shuvo Islam">4</option>
                            <option value="shuvo Islam">5</option>
                            <option value="shuvo Islam">6</option>

                        </select>
                        <label for="">Priority</label>
                        <select class="form-select form-select-sm" aria-label="form-select-sm example" name="" id="">
                            <option value="shuvo Islam">High</option>
                            <option value="shuvo Islam">Low</option>
                            <option value="shuvo Islam">Medium</option>
                        </select>
                        <label for="">Sprint</label>
                        <select class="form-select form-select-sm" aria-label="form-select-sm example" name="" id="">
                            <option value="shuvo Islam">Sprint-1</option>
                            <option selected="" value="shuvo Islam">Sprint-2(Active)</option>
                            <option value="shuvo Islam">Sprint-2</option>
                            <option value="shuvo Islam">Sprint-1</option>
                            <option value="shuvo Islam">Sprint-1</option>
                        </select>
                        <input type="submit" value="Update" class="btn btn-primary btn-user rounded-0 py-1 px-3 mt-2 w-50 mx-auto">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>